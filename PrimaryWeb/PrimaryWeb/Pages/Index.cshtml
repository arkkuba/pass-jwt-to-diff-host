@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    string? cookie = HttpContext.Request.Cookies["_id"];
}

<main>
    @if (cookie == null)
    {
        <form method="POST">
            <section>
                <label for="email">E-mail</label>
                <input type="email" id="email" name="email" required />
            </section>
            <section>
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required />
            </section>
            <button type="submit" asp-page-handler="Login">Sign In</button>
        </form>
    }
    else
    {
        <form method="POST" action=@Model.URL>
            <input type="hidden"
                   name="id"
                   value=@cookie />
            <button type="submit">Visit 2nd Website</button>
        </form>
        <form method="POST">
            <button type="submit" asp-page-handler="Logout">Sign Out</button>
        </form>
    }
</main>
